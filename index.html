<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heroes of Crown: Legends Guide</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .upgrade-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        .upgrade-buttons button {
            padding: 10px;
            cursor: pointer;
        }
        .upgrade-image-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .upgrade-image-container {
            position: relative;
            max-width: 90%;
            max-height: 90%;
        }
        #upgrade-image {
            max-width: 100%;
            max-height: 90vh;
            object-fit: contain;
        }
    </style>
</head>
<body>
    <header>
        <button id="menu-toggle">≡</button>
        <h1>Heroes of Crown: Legends</h1>
        <div style="width: 20px;"></div> <!-- This empty div balances the header -->
    </header>
    <nav id="sidebar">
        <button id="close-sidebar">✕</button>
        <div id="sidebar-content">
            <ul>
                <li><a href="#" onclick="openTab(event, 'welcome'); closeSidebar();">Welcome</a></li>
                <li><a href="#" onclick="openTab(event, 'heroes'); closeSidebar();">Heroes</a></li>
                <li><a href="#" onclick="openTab(event, 'gear'); closeSidebar();">Gear</a></li>
                <li><a href="#" onclick="openTab(event, 'equipment'); closeSidebar();">Equipment</a></li>
                <li><a href="#" onclick="openTab(event, 'upgrade-requirements'); closeSidebar();">Upgrade Requirements</a></li>
                <li><a href="#" onclick="openTab(event, 'talisman'); closeSidebar();">Talisman</a></li>
                <li><a href="#" onclick="openTab(event, 'disclaimer-info'); closeSidebar();">Disclaimer</a></li>
            </ul>
        </div>
        <button id="dark-mode-toggle">Toggle Dark Mode</button>
    </nav>

    <div class="container">
        <div id="welcome" class="tab-content active">
            <h2>Welcome to Shrimp's Guide!</h2>
            <p>Please check disclaimers and rating before commenting!</p>
            <p>If you would like to help or point out something, please reach out to me on Discord: Shrimpblue</p>
        </div>

        <div id="heroes" class="tab-content">
            <div id="hero-container"></div>
        </div>

        <div id="gear" class="tab-content">
            <h2>Gear</h2>
            <p>Hero gear information will be listed here.</p>
        </div>

        <div id="equipment" class="tab-content">
            <h2>Equipment</h2>
            <p>Equipment information and stats will be displayed here.</p>
        </div>

        <div id="upgrade-requirements" class="tab-content">
            <h2>Upgrade Requirements</h2>
            <div class="upgrade-buttons">
                <button onclick="showUpgradeImage('./Images/herostar.png')">Hero Star</button>
                <button onclick="showUpgradeImage('./Images/potential.png')">Potential</button>
                <button onclick="showUpgradeImage('./Images/transfer.png')">Transfer</button>
                <button onclick="showUpgradeImage('./Images/upanishad.png')">Upanishad</button>
                <button onclick="showUpgradeImage('./Images/rebirth.png')">Rebirth</button>
                <button onclick="showUpgradeImage('./Images/divinity.png')">Divinity</button>
                <button onclick="showUpgradeImage('./Images/runestone.png')">Runestone</button>
                <button onclick="showUpgradeImage('./Images/talisman.png')">Talisman</button>
                <button onclick="showUpgradeImage('./Images/spirits.png')">Spirits</button>
                <button onclick="showUpgradeImage('./Images/starhubgear.png')">Star Hub Gear</button>
                <button onclick="showUpgradeImage('./Images/treasure.png')">Treasure</button>
                <button onclick="showUpgradeImage('./Images/pet.png')">Pet</button>
                <button onclick="showUpgradeImage('./Images/codex.png')">Codex</button>
                <button onclick="showUpgradeImage('./Images/energysource.png')">Energy Source</button>
                <button onclick="showUpgradeImage('./Images/artifact.png')">Artifact</button>
                <button onclick="showUpgradeImage('./Images/goddesskin.png')">Goddess Skin</button>
            </div>
        </div>

        <div id="talisman" class="tab-content">
            <h2>Talisman</h2>
            <p>Talisman information will be displayed here.</p>
        </div>

        <div id="disclaimer-info" class="tab-content">
            <h2>Disclaimer</h2>
            <p>The "Heroes of Crown Guide" site is not affiliated with Ujoy.</p>
            <p>The "Heroes of Crown Guide" site is an unofficial resource made by dedicated community members of the game 'Heroes of Crown: Legends', for free public viewing.</p>
            <p>All contributors of this site do not gain any monetary profit from the The "Heroes of Crown Guide" site, nor any other compensation. All Hero images and information is property of Ujoy, and their respective copyright holders. No copyright infringement is meant by us.</p>
            <p>This spreadsheet is not affiliated with any website, company, or any other form of media.</p>
            <p>If you intend to use any information from this spreadsheet for your own content, you must directly ask permission from one of the main contributors of the spreadsheet through Discord. @Shrimpblue</p>
            <p>You must cite The "Heroes of Crown Guide" site original share link and give credit to ALL main contributors. Modification of any information from the site and claiming it as your own is strictly prohibited.</p>
        </div>
    </div>

    <div id="disclaimer">
        This site is not affiliated with uJoy.
    </div>

    <div id="upgrade-image-overlay" class="upgrade-image-overlay">
        <div class="upgrade-image-container">
            <img id="upgrade-image" src="" alt="Upgrade Image">
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        fetch('heroes.json')
            .then(response => response.json())
            .then(data => {
                const heroContainer = document.getElementById('hero-container');
                data.forEach((hero, index) => {
                    if (hero.name) {
                        const heroSection = document.createElement('div');
                        heroSection.className = 'hero-section';
                        heroSection.innerHTML = `
                            <div class="hero-card">
                                <img src="${hero.image}" alt="${hero.name}" class="hero-image">
                                <div class="hero-info">
                                    <div class="hero-name">${hero.name}</div>
                                    <div class="hero-rating">Tier: ${hero.tier}</div>
                                </div>
                                <button class="detail-button" onclick="toggleDetails('hero${index}')">Details</button>
                            </div>
                            <div id="hero${index}" class="hero-details">
                                <h3>Stats</h3>
                                <ul>
                                    <li>ATK: ${hero.stats.ATK}</li>
                                    <li>DEF: ${hero.stats.DEF}</li>
                                    <li>HP: ${hero.stats.HP}</li>
                                    <li>SPD: ${hero.stats.SPD}</li>
                                </ul>
                                <h3>Description</h3>
                                <p>${hero.description}</p>
                                <h3>Recommended Talisman</h3>
                                <ul>
                                    ${hero.recommendedTalisman.map(talisman => `<li>${talisman}</li>`).join('')}
                                </ul>
                                <h3>Recommended Spirit</h3>
                                <ul>
                                    ${hero.recommendedSpirit.map(spirit => `<li>${spirit}</li>`).join('')}
                                </ul>
                                <h3>Recommended Codex</h3>
                                <ul>
                                    ${hero.recommendedCodex.map(codex => `<li>${codex}</li>`).join('')}
                                </ul>
                                <h3>Recommended Pet</h3>
                                <ul>
                                    ${hero.recommendedPet.map(pet => `<li>${pet.type}: ${pet.name}</li>`).join('')}
                                </ul>
                            </div>
                        `;
                        heroContainer.appendChild(heroSection);
                    }
                });
            });

        function showUpgradeImage(imagePath) {
            const overlay = document.getElementById('upgrade-image-overlay');
            const image = document.getElementById('upgrade-image');
            image.src = imagePath;
            overlay.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeUpgradeImage() {
            const overlay = document.getElementById('upgrade-image-overlay');
            overlay.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Add event listener to close image when clicking outside
        document.getElementById('upgrade-image-overlay').addEventListener('click', function(event) {
            if (event.target === this) {
                closeUpgradeImage();
            }
        });

        function openTab(event, tabName) {
            event.preventDefault();
            var i, tabContent, tabLinks;
            tabContent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabContent.length; i++) {
                tabContent[i].style.display = "none";
            }
            tabLinks = document.getElementsByTagName("a");
            for (i = 0; i < tabLinks.length; i++) {
                tabLinks[i].className = tabLinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            event.currentTarget.className += " active";
            window.scrollTo(0, 0);
        }

        function closeSidebar() {
            document.getElementById('sidebar').classList.remove('active');
        }
    </script>
</body>
</html>